{"version":3,"file":"static/js/223.936c3485.chunk.js","mappings":"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","sources":["pages/ActivityPage.jsx"],"sourcesContent":["import React, { useState, useMemo, useEffect, useRef } from \"react\";\nimport {\n  Box,\n  Typography,\n  TextField,\n  Stack,\n  Select,\n  MenuItem,\n  InputLabel,\n  FormControl,\n  List,\n  ListItemButton,\n  ListItemAvatar,\n  Avatar,\n  ListItemText,\n  CircularProgress,\n  Tooltip,\n  Fade,\n  Chip,\n  Badge,\n} from \"@mui/material\";\nimport { useFirestore } from \"../contexts/FirestoreProvider\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useTheme, useMediaQuery } from \"@mui/material\";\nimport { formatDistanceToNow, parseISO } from \"date-fns\";\n\nconst itemVariants = {\n  hidden: { opacity: 0, y: 10 },\n  visible: { opacity: 1, y: 0 },\n  exit: { opacity: 0, y: -10 },\n};\n\nconst actionLabels = {\n  loan_creation: \"Loan Created\",\n  edit: \"Edited\",\n  payment: \"Payment Made\",\n  login: \"Login\",\n  delete: \"Loan Deleted\",\n  settings_update: \"Settings Updated\",\n};\n\n// Colors for Chips based on action type\nconst actionChipColors = {\n  loan_creation: \"primary\",\n  edit: \"default\",\n  payment: \"success\",\n  login: \"info\",\n  delete: \"error\",\n  settings_update: \"secondary\",\n};\n\nexport default function ActivityPage() {\n  const { activityLogs } = useFirestore();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const ITEMS_PER_PAGE = 20;\n  const [page, setPage] = useState(1);\n  const [displayedLogs, setDisplayedLogs] = useState([]);\n  const listRef = useRef(null);\n\n  const [search, setSearch] = useState(\"\");\n  const [filterType, setFilterType] = useState(\"all\");\n\n  // Reusable styles for the focused state of form fields\n  const filterInputStyles = {\n    \"& .MuiOutlinedInput-root\": {\n      \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n        borderColor: theme.palette.secondary.main,\n      },\n    },\n    \"& .MuiInputLabel-root.Mui-focused\": {\n      color: theme.palette.secondary.main,\n    },\n    \"& .MuiSvgIcon-root\": {\n      \"&.Mui-focused\": {\n        color: theme.palette.secondary.main,\n      },\n    },\n  };\n\n  // Helper to highlight search term inside text with accent color\n  function highlightText(text, highlight) {\n    if (!highlight) return text;\n    const regex = new RegExp(`(${highlight})`, \"gi\");\n    const parts = text.split(regex);\n    return parts.map((part, i) =>\n      regex.test(part) ? (\n        <Box\n          component=\"span\"\n          key={i}\n          sx={{ bgcolor: theme.palette.secondary.light, fontWeight: \"bold\" }}\n        >\n          {part}\n        </Box>\n      ) : (\n        part\n      )\n    );\n  }\n\n  // Helper to get initials from username/email\n  function getInitials(name) {\n    if (!name) return \"?\";\n    const parts = name.split(\" \");\n    if (parts.length === 1) return parts[0].substring(0, 2).toUpperCase();\n    return (parts[0][0] + parts[1][0]).toUpperCase();\n  }\n\n  const filteredLogs = useMemo(() => {\n    return activityLogs\n      .filter((log) => {\n        if (filterType !== \"all\" && log.type !== filterType) return false;\n        if (\n          search &&\n          !log.description.toLowerCase().includes(search.toLowerCase()) &&\n          !(log.user?.toLowerCase().includes(search.toLowerCase()))\n        )\n          return false;\n        return true;\n      })\n      .sort((a, b) => {\n        const dateA = a.date || a.createdAt || 0;\n        const dateB = b.date || b.createdAt || 0;\n        return new Date(dateB) - new Date(dateA);\n      });\n  }, [activityLogs, filterType, search]);\n\n  useEffect(() => {\n    setDisplayedLogs(filteredLogs.slice(0, page * ITEMS_PER_PAGE));\n  }, [filteredLogs, page]);\n\n  useEffect(() => {\n    if (!isMobile) return;\n\n    const onScroll = () => {\n      if (!listRef.current) return;\n      const { scrollTop, scrollHeight, clientHeight } = listRef.current;\n      if (scrollTop + clientHeight >= scrollHeight - 100) {\n        if (displayedLogs.length < filteredLogs.length) {\n          setPage((p) => p + 1);\n        }\n      }\n    };\n\n    const container = listRef.current;\n    container.addEventListener(\"scroll\", onScroll);\n    return () => container.removeEventListener(\"scroll\", onScroll);\n  }, [displayedLogs.length, filteredLogs.length, isMobile]);\n\n  useEffect(() => {\n    setPage(1);\n  }, [filterType, search]);\n\n  return (\n    <Box\n      p={3}\n      maxWidth={700}\n      mx=\"auto\"\n      height={isMobile ? \"80vh\" : \"auto\"}\n      sx={{ overflowY: isMobile ? \"auto\" : \"visible\" }}\n      ref={listRef}\n    >\n      <Typography variant=\"h4\" gutterBottom>\n        Activity Log\n      </Typography>\n\n      <Stack direction={{ xs: \"column\", sm: \"row\" }} spacing={2} mb={3}>\n        <TextField\n          sx={filterInputStyles} // <-- Accent color on focus\n          label=\"Search\"\n          value={search}\n          onChange={(e) => setSearch(e.target.value)}\n          fullWidth\n          size=\"small\"\n          variant=\"outlined\"\n        />\n        <FormControl sx={{ minWidth: 160, ...filterInputStyles }} size=\"small\">\n          <InputLabel>Type</InputLabel>\n          <Select\n            value={filterType}\n            label=\"Type\"\n            onChange={(e) => setFilterType(e.target.value)}\n          >\n            <MenuItem value=\"all\">All</MenuItem>\n            <MenuItem value=\"loan_creation\">Loan Creation</MenuItem>\n            <MenuItem value=\"edit\">Edit</MenuItem>\n            <MenuItem value=\"payment\">Payment</MenuItem>\n            <MenuItem value=\"login\">Login</MenuItem>\n            <MenuItem value=\"delete\">Delete</MenuItem>\n            <MenuItem value=\"settings_update\">Settings Update</MenuItem>\n          </Select>\n        </FormControl>\n      </Stack>\n\n      <List>\n        <AnimatePresence>\n          {displayedLogs.map((log) => {\n            const userDisplay = log.user || \"System\";\n            const actionDisplay =\n              actionLabels[log.type] ??\n              (log.type ? log.type.replace(/_/g, \" \") : \"Unknown Action\");\n\n            const dateISO = log.date || log.createdAt;\n            let dateStr = \"No valid date\";\n            let relativeTime = \"\";\n            if (dateISO) {\n              try {\n                const parsedDate =\n                  typeof dateISO === \"string\"\n                    ? parseISO(dateISO)\n                    : dateISO.toDate\n                    ? dateISO.toDate()\n                    : dateISO;\n                relativeTime = formatDistanceToNow(parsedDate, { addSuffix: true });\n                dateStr = parsedDate.toLocaleString();\n              } catch {\n                // fallback if parsing fails\n              }\n            }\n\n            const isNew =\n              dateISO &&\n              (() => {\n                try {\n                  const parsedDate =\n                    typeof dateISO === \"string\"\n                      ? parseISO(dateISO)\n                      : dateISO.toDate\n                      ? dateISO.toDate()\n                      : dateISO;\n                  return new Date() - parsedDate < 1000 * 60 * 60 * 24; // less than 24h old\n                } catch {\n                  return false;\n                }\n              })();\n\n            return (\n              <motion.div\n                key={log.id}\n                initial=\"hidden\"\n                animate=\"visible\"\n                exit=\"exit\"\n                variants={itemVariants}\n              >\n                <ListItemButton\n                  divider\n                  sx={{\n                    py: 1.5,\n                    \"&:hover\": { bgcolor: theme.palette.action.hover },\n                    cursor: \"default\",\n                  }}\n                >\n                  <ListItemAvatar>\n                    <Badge\n                      color=\"error\"\n                      variant=\"dot\"\n                      overlap=\"circular\"\n                      invisible={!isNew}\n                      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n                    >\n                      <Avatar sx={{ bgcolor: theme.palette.primary.main }}>\n                        {getInitials(userDisplay)}\n                      </Avatar>\n                    </Badge>\n                  </ListItemAvatar>\n                  <ListItemText\n                    primary={\n                      <Box display=\"flex\" alignItems=\"center\" gap={1} flexWrap=\"wrap\">\n                        <Typography\n                          variant=\"subtitle1\"\n                          component=\"span\"\n                          fontWeight=\"bold\"\n                        >\n                          {highlightText(userDisplay, search)}\n                        </Typography>\n\n                        <Tooltip\n                          title={actionDisplay}\n                          placement=\"top\"\n                          TransitionComponent={Fade}\n                          arrow\n                        >\n                          <Chip\n                            label={actionDisplay}\n                            size=\"small\"\n                            color={actionChipColors[log.type] || \"default\"}\n                            sx={{ textTransform: \"capitalize\", cursor: \"help\" }}\n                          />\n                        </Tooltip>\n                      </Box>\n                    }\n                    secondary={\n                      <>\n                        <Tooltip\n                          title={dateStr}\n                          arrow\n                          placement=\"top\"\n                          TransitionComponent={Fade}\n                        >\n                          <Typography\n                            component=\"span\"\n                            variant=\"caption\"\n                            color=\"text.secondary\"\n                            sx={{ display: \"block\", mb: 0.5, fontStyle: \"italic\" }}\n                          >\n                            {relativeTime}\n                          </Typography>\n                        </Tooltip>\n                        <Typography component=\"span\" variant=\"body2\">\n                          {highlightText(log.description ?? \"\", search)}\n                        </Typography>\n                      </>\n                    }\n                  />\n                </ListItemButton>\n              </motion.div>\n            );\n          })}\n        </AnimatePresence>\n      </List>\n\n      {!isMobile && filteredLogs.length > displayedLogs.length && (\n        <Box textAlign=\"center\" mt={2}>\n          <Typography\n            variant=\"button\"\n            onClick={() => setPage((p) => p + 1)}\n            sx={{\n              cursor: \"pointer\",\n              color: theme.palette.secondary.main, // <-- Accent color for the link\n              userSelect: \"none\",\n            }}\n          >\n            Load More\n          </Typography>\n        </Box>\n      )}\n\n      {isMobile && displayedLogs.length < filteredLogs.length && (\n        <Box textAlign=\"center\" mt={2}>\n          <CircularProgress size={24} />\n        </Box>\n      )}\n\n      {displayedLogs.length === 0 && (\n        <Box\n          mt={6}\n          textAlign=\"center\"\n          color={theme.palette.text.secondary}\n          sx={{ userSelect: \"none\" }}\n        >\n          <Typography variant=\"h6\" gutterBottom>\n            No activity logs found\n          </Typography>\n          <Typography variant=\"body2\">Try adjusting your search or filters.</Typography>\n        </Box>\n      )}\n    </Box>\n  );\n}\n"],"names":["itemVariants","hidden","opacity","y","visible","exit","actionLabels","loan_creation","edit","payment","login","delete","settings_update","actionChipColors","ActivityPage","activityLogs","useFirestore","theme","useTheme","isMobile","useMediaQuery","breakpoints","down","page","setPage","useState","displayedLogs","setDisplayedLogs","listRef","useRef","search","setSearch","filterType","setFilterType","filterInputStyles","borderColor","palette","secondary","main","color","highlightText","text","highlight","regex","RegExp","concat","split","map","part","i","test","_jsx","Box","component","sx","bgcolor","light","fontWeight","children","getInitials","name","parts","length","substring","toUpperCase","filteredLogs","useMemo","filter","log","_log$user","type","description","toLowerCase","includes","user","sort","a","b","dateA","date","createdAt","dateB","Date","useEffect","slice","onScroll","current","scrollTop","scrollHeight","clientHeight","p","container","addEventListener","removeEventListener","_jsxs","maxWidth","mx","height","overflowY","ref","Typography","variant","gutterBottom","Stack","direction","xs","sm","spacing","mb","TextField","label","value","onChange","e","target","fullWidth","size","FormControl","_objectSpread","minWidth","InputLabel","Select","MenuItem","List","AnimatePresence","_actionLabels$log$typ","_log$description","userDisplay","actionDisplay","replace","dateISO","dateStr","relativeTime","parsedDate","parseISO","toDate","formatDistanceToNow","addSuffix","toLocaleString","_unused","isNew","_unused2","motion","div","initial","animate","variants","ListItemButton","divider","py","action","hover","cursor","ListItemAvatar","Badge","overlap","invisible","anchorOrigin","vertical","horizontal","Avatar","primary","ListItemText","display","alignItems","gap","flexWrap","Tooltip","title","placement","TransitionComponent","Fade","arrow","Chip","textTransform","_Fragment","fontStyle","id","textAlign","mt","onClick","userSelect","CircularProgress"],"sourceRoot":""}